<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Ki Editor</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="pitch.html"><strong aria-hidden="true">2.</strong> Why Ki?</a></li><li class="chapter-item expanded "><a href="comparisons/index.html"><strong aria-hidden="true">3.</strong> Comparisons</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="comparisons/modal-editors.html"><strong aria-hidden="true">3.1.</strong> Modal editors</a></li></ol></li><li class="chapter-item expanded "><a href="core-concepts.html"><strong aria-hidden="true">4.</strong> Core Concepts</a></li><li class="chapter-item expanded "><a href="modes.html"><strong aria-hidden="true">5.</strong> Modes</a></li><li class="chapter-item expanded "><a href="insert-mode/index.html"><strong aria-hidden="true">6.</strong> Insert Mode</a></li><li class="chapter-item expanded "><a href="normal-mode/index.html"><strong aria-hidden="true">7.</strong> Normal Mode</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="normal-mode/core-movements.html"><strong aria-hidden="true">7.1.</strong> Core Movements</a></li><li class="chapter-item expanded "><a href="normal-mode/selection-modes/index.html"><strong aria-hidden="true">7.2.</strong> Selection Modes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="normal-mode/selection-modes/syntax-node-based.html"><strong aria-hidden="true">7.2.1.</strong> Syntax Node-based</a></li><li class="chapter-item expanded "><a href="normal-mode/selection-modes/regex-based.html"><strong aria-hidden="true">7.2.2.</strong> Regex-based</a></li><li class="chapter-item expanded "><a href="normal-mode/selection-modes/local-global/index.html"><strong aria-hidden="true">7.2.3.</strong> Local/Global</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="normal-mode/selection-modes/local-global/text-search.html"><strong aria-hidden="true">7.2.3.1.</strong> Text Search</a></li><li class="chapter-item expanded "><a href="normal-mode/selection-modes/local-global/lsp-based.html"><strong aria-hidden="true">7.2.3.2.</strong> LSP</a></li><li class="chapter-item expanded "><a href="normal-mode/selection-modes/local-global/misc.html"><strong aria-hidden="true">7.2.3.3.</strong> Misc</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="normal-mode/actions/index.html"><strong aria-hidden="true">7.3.</strong> Actions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="normal-mode/actions/clipboard-related-actions.html"><strong aria-hidden="true">7.3.1.</strong> Clipboard-related Actions</a></li></ol></li><li class="chapter-item expanded "><a href="normal-mode/movement-actions.html"><strong aria-hidden="true">7.4.</strong> Movement-Actions</a></li><li class="chapter-item expanded "><a href="normal-mode/other-movements.html"><strong aria-hidden="true">7.5.</strong> Other Movements</a></li><li class="chapter-item expanded "><a href="normal-mode/space-menu.html"><strong aria-hidden="true">7.6.</strong> Space Menu</a></li><li class="chapter-item expanded "><a href="normal-mode/commands.html"><strong aria-hidden="true">7.7.</strong> Commands</a></li></ol></li><li class="chapter-item expanded "><a href="universal-keybindings.html"><strong aria-hidden="true">8.</strong> Universal Keybindings</a></li><li class="chapter-item expanded "><a href="components/index.html"><strong aria-hidden="true">9.</strong> Components</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="components/file-explorer.html"><strong aria-hidden="true">9.1.</strong> File Explorer</a></li><li class="chapter-item expanded "><a href="components/prompt.html"><strong aria-hidden="true">9.2.</strong> Prompt</a></li></ol></li><li class="chapter-item expanded "><a href="recipes.html"><strong aria-hidden="true">10.</strong> Recipes</a></li><li class="chapter-item expanded "><a href="themes.html"><strong aria-hidden="true">11.</strong> Themes</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">12.</strong> Installation</a></li><li class="chapter-item expanded "><a href="configurations.html"><strong aria-hidden="true">13.</strong> Configurations</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Ki Editor</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ki-editor/ki-editor" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Ki <sup class="footnote-reference"><a href="#1">1</a></sup> Editor is a modal <sup class="footnote-reference"><a href="#2">2</a></sup> editor that supports multi-cursor structural editing.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>It means "tree" (木) in Japanese.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Modal: root word <em>mode</em>, meaning multiple modes.</p>
</div>
<h2 id="community"><a class="header" href="#community">Community</a></h2>
<ul>
<li>Matrix <a href="https://matrix.to/#/#ki-editor:matrix.org">https://matrix.to/#/#ki-editor:matrix.org</a></li>
</ul>
<h2 id="showcase"><a class="header" href="#showcase">Showcase</a></h2>
<h3 id="remove-all-println-statements"><a class="header" href="#remove-all-println-statements">Remove all <code>println!</code> statements</a></h3>
<script src="https://asciinema.org/a/660730.js" id="asciicast-660730" async="true"></script>
<h3 id="sorting-todo-list-based-on-completion"><a class="header" href="#sorting-todo-list-based-on-completion">Sorting TODO list based on completion</a></h3>
<script src="https://asciinema.org/a/660731.js" id="asciicast-660731" async="true"></script>
<h3 id="renaming-variables-with-multi-cursor-and-lsp-references"><a class="header" href="#renaming-variables-with-multi-cursor-and-lsp-references">Renaming variables with multi-cursor and LSP References</a></h3>
<script src="https://asciinema.org/a/660732.js" id="asciicast-660732" async="true"></script>
<h3 id="swapping-body-of-if-else"><a class="header" href="#swapping-body-of-if-else">Swapping body of if-else</a></h3>
<script src="https://asciinema.org/a/660734.js" id="asciicast-660734" async="true"></script>
<h3 id="wrapunwrap-the-value-of-each-key-with-some-in-a-struct"><a class="header" href="#wrapunwrap-the-value-of-each-key-with-some-in-a-struct">Wrap/unwrap the value of each key with <code>Some</code> in a struct</a></h3>
<script src="https://asciinema.org/a/660735.js" id="asciicast-660735" async="true"></script>
<h3 id="case-agnostic-search-and-replace"><a class="header" href="#case-agnostic-search-and-replace">Case-agnostic search and replace</a></h3>
<script src="https://asciinema.org/a/660737.js" id="asciicast-660737" async="true"></script>
<h3 id="swap-statements-order"><a class="header" href="#swap-statements-order">Swap statements order</a></h3>
<script src="https://asciinema.org/a/660738.js" id="asciicast-660738" async="true"></script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-ki"><a class="header" href="#why-ki">Why Ki?</a></h1>
<p>The following are reasons that prevented me from escaping the Ki island, although the sirens of the Copilots were irresistible.</p>
<p>No land in the archipelago of the modal editors has more economic keybindings for these actions.</p>
<h2 id="1-first-class-syntactic-selection"><a class="header" href="#1-first-class-syntactic-selection">1. First-class syntactic selection</a></h2>
<blockquote>
<p>Being first-class means that it is not an extra or even sidekick; it is the <strong>protagonist</strong>.</p>
</blockquote>
<p>To select the largest syntax node under the cursor, simply press <code>s</code> (Syntax Node).</p>
<p>This feature is handy if you ever asked this question:</p>
<p><em>"How can I select the current expression/function/argument/statement?"</em></p>
<p>And this works as long as your language is blessed by the Tree-sitter grammarians.</p>
<p><img src="https://github.com/user-attachments/assets/1bc1bbf4-d5f2-4233-b2a6-f07f8316fd84" alt="select-largest-node" /></p>
<h2 id="2-first-class-syntactic-modification"><a class="header" href="#2-first-class-syntactic-modification">2. First-class syntactic modification</a></h2>
<h3 id="21-deletion"><a class="header" href="#21-deletion">2.1 Deletion</a></h3>
<p>To delete multiple sibling syntax nodes in a row, first press <code>s</code>, then repeat <code>d</code>.</p>
<p><img src="https://github.com/user-attachments/assets/8b2c263d-d05b-4f50-ae1d-ee17914f7c09" alt="delete-node" /></p>
<p>Notice the comma between the current and the next node is also deleted.</p>
<p>This doesn't only work for JSON, it can be used to also delete statements, array elements, arguments, and basically anything within a list of syntax nodes.</p>
<h3 id="22-duplication"><a class="header" href="#22-duplication">2.2 Duplication</a></h3>
<p>To duplicate an AST node, press <code>s</code>, then <code>y</code> (Copy), and then <code>p</code> (Paste).</p>
<p><img src="https://github.com/user-attachments/assets/c5d67419-1fe9-473b-954b-58912d40109d" alt="duplicate-node" /></p>
<p>Notice how <code>comma</code> is added automatically.</p>
<h3 id="23-swap"><a class="header" href="#23-swap">2.3 Swap</a></h3>
<p>To swap an AST node, press <code>s</code>, then <code>x</code> (Exchange mode)<code>, and press </code>l<code>(Next) or </code>h` (Previous).</p>
<p><img src="https://github.com/user-attachments/assets/14d314c3-4d15-4f48-bda2-3efa33b4725b" alt="swap-node" /></p>
<h2 id="3-first-class-syntactic-navigation"><a class="header" href="#3-first-class-syntactic-navigation">3. First-class syntactic navigation</a></h2>
<p>To navigate the syntax tree, press <code>s</code>, then press any of the following keys:</p>
<ul>
<li><code>h</code> (Previous sibling)</li>
<li><code>l</code> (Next sibling)</li>
<li><code>,</code> (First sibling)</li>
<li><code>.</code> (Last sibling)</li>
<li><code>j</code> (First child)</li>
<li><code>k</code> (Parent)</li>
</ul>
<p><img src="https://github.com/user-attachments/assets/549f225c-835e-4c3e-a69f-eca053f987eb" alt="node-navigation" /></p>
<h2 id="4-multi-cursor"><a class="header" href="#4-multi-cursor">4. Multi-cursor</a></h2>
<p>Delete unused imports:</p>
<ul>
<li><code>] h</code> (set selection mode to Diagnostics Hint)</li>
<li><code>q</code> (enter multi-cursor mode)</li>
<li><code>l</code> (add a cursor to the next selection)</li>
<li><code>s</code> (set selection mode to Syntax Node)</li>
<li><code>d</code> (delete)</li>
<li><code>space o</code> (keep only the primary selection)</li>
</ul>
<p>Again, notice how the commas are removed automatically.</p>
<p><img src="https://github.com/user-attachments/assets/1e26cae5-e24d-4010-bebc-c9ee8837293b" alt="remove-unused-imports" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comparisons"><a class="header" href="#comparisons">Comparisons</a></h1>
<p>See next page.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comparisons-with-other-modal-editors"><a class="header" href="#comparisons-with-other-modal-editors">Comparisons with other modal editors</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Aspect</th><th>Ki</th><th>Vim/Neovim</th><th>Helix</th></tr></thead><tbody>
<tr><td>Mental model</td><td>Selection mode → Movement → Action</td><td>Action → Movement</td><td>Movement → Action</td></tr>
<tr><td>Structural editing</td><td>First-class</td><td>With plugin</td><td>Second class<sup class="footnote-reference"><a href="#1">1</a></sup></td></tr>
<tr><td>Multi-cursor</td><td>Good</td><td>With plugin</td><td>Extensive</td></tr>
<tr><td>Built-in file explorer</td><td>Yes</td><td>Yes (but buggy)</td><td>No</td></tr>
<tr><td>Built-in LSP</td><td>Yes</td><td>Require config</td><td>Yes</td></tr>
<tr><td>Built-in global search &amp; replace</td><td>Yes</td><td>Require config</td><td>No global replace</td></tr>
<tr><td>Performance</td><td>Good</td><td>Great</td><td>Fastest</td></tr>
<tr><td>Keybindings coherence</td><td>High</td><td>Low</td><td>Low</td></tr>
<tr><td>GNU Readline Support</td><td>Everywhere <sup class="footnote-reference"><a href="#2">2</a></sup></td><td>Minimal</td><td>Inconsistent <sup class="footnote-reference"><a href="#3">3</a></sup></td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>The default keybindings for structural navigation in Helix are hard to access: <code>alt+n</code>, <code>alt+p</code>, <code>alt+i</code> and <code>alt+o</code>.
Also, there's no easy way to <a href="comparisons/../normal-mode/other-movements.html#go-backforward">revert to previous selection</a>, which is crucial for structural manipulation.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Not all GNU Readline keybindings are implemented, but they are welcomed.</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>Extensive support in Prompt, but minimal support in Editor.</p>
</div>
<h2 id="keybindings-coherence"><a class="header" href="#keybindings-coherence">Keybindings coherence</a></h2>
<p>Coherence means the quality of being logical and consistent.</p>
<p>Ki keybindings are exceptionally coherent due to its mental model.</p>
<p>The following table demonstrates the incoherence of Vim keybindings:</p>
<div class="table-wrapper"><table><thead><tr><th>Selection mode / Action</th><th>Next</th><th>Previous</th></tr></thead><tbody>
<tr><td>Word</td><td><code>e</code> / <code>w</code></td><td><code>b</code></td></tr>
<tr><td>Long word</td><td><code>E</code> / <code>W</code></td><td><code>B</code></td></tr>
<tr><td>Search matches</td><td><code>n</code></td><td><code>N</code></td></tr>
<tr><td>Line</td><td><code>j</code></td><td><code>k</code></td></tr>
<tr><td>Column</td><td><code>l</code></td><td><code>h</code></td></tr>
<tr><td>Paragraph (empty lines)</td><td><code>}</code></td><td><code>{</code></td></tr>
<tr><td>Git hunk <sup class="footnote-reference"><a href="#4">4</a></sup></td><td><code>]c</code></td><td><code>[c</code></td></tr>
<tr><td>One character</td><td><code>f</code>/<code>t</code></td><td><code>F</code>/<code>T</code></td></tr>
<tr><td>Repeat latest <code>f</code>/<code>t</code> motion</td><td><code>;</code></td><td><code>,</code></td></tr>
<tr><td>Quickfix</td><td><code>:cnext</code></td><td><code>:cprev</code></td></tr>
<tr><td>Search current word</td><td><code>*</code></td><td><code>#</code></td></tr>
</tbody></table>
</div>
<p>The following table demonstrates the incoherence of Helix keybindings <sup class="footnote-reference"><a href="#5">5</a></sup>:</p>
<div class="table-wrapper"><table><thead><tr><th>Selection mode / Action</th><th>Next</th><th>Previous</th></tr></thead><tbody>
<tr><td>Sibling node</td><td><code>alt+n</code></td><td><code>alt+p</code></td></tr>
<tr><td>Add cursor (line-wise)</td><td><code>C</code></td><td><code>alt+c</code></td></tr>
<tr><td>Extend line</td><td><code>x</code></td><td>None</td></tr>
<tr><td>LSP Diagnostics</td><td><code>]d</code></td><td><code>[d</code></td></tr>
</tbody></table>
</div>
<p>As you can see, there's no single logical categorization for these keymaps, they are either lowercase-uppercase, normal-alt, left-right bracket, or outright unexplainable.</p>
<blockquote>
<p>In Ki, all of these boil down to <code>h</code> and <code>l</code> only!</p>
</blockquote>
<p>Ok, how is this possible? It's possible because you have to choose your selection mode first before you move.</p>
<p>For example:</p>
<ol>
<li>If you want to move to the next word, you enter the Word selection mode (by pressing <code>w</code>) first before pressing <code>l</code> (move to next selection).</li>
<li>If you want to move to the next line, you enter the Line selection mode (by pressing <code>e</code>) first before pressing <code>l</code></li>
</ol>
<p>You only have to memorize the movement keybindings once, and then the selection mode keybindings, and you will be able to explore new ways of navigation on your own.</p>
<p>Once you've learned the Ki keybindings, it's tough to look back (at least for me).</p>
<p>Note that the Ki keybindings cannot be simply implemented in Vim/Helix via key-
remapping, due to the lack of the concept of <a href="comparisons/../normal-mode/selection-modes/index.html">Selelection Mode</a>, and implementing
that requires major architectural changes in the core.</p>
<div class="footnote-definition" id="4"><sup class="footnote-definition-label">4</sup>
<p>With <a href="https://github.com/tpope/vim-unimpaired">vim-unimpaired</a>.</p>
</div>
<div class="footnote-definition" id="5"><sup class="footnote-definition-label">5</sup>
<p>Keybindings inherited from Vim are omitted.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="core-concepts"><a class="header" href="#core-concepts">Core concepts</a></h1>
<h2 id="1-all-selection-modes-are-equal"><a class="header" href="#1-all-selection-modes-are-equal">1. All selection modes are equal</a></h2>
<p>Unlike other modal editors <sup class="footnote-reference"><a href="#1">1</a></sup>, the line &amp; column movements/actions are not given special treatment.</p>
<p>As mentioned by Rob Pike in <a href="https://doc.cat-v.org/bell_labs/structural_regexps/se.pdf">Structural Regular Expression</a>:</p>
<blockquote>
<p>The current UNIX® text processing tools are weakened by the built-in concept of a line.</p>
</blockquote>
<p>In Ki, all movements must be paired by a pre-selected selection mode.</p>
<p>Consequently, all movements are bound to the same keymaps.</p>
<p>By combining movements and selection modes, it's easy to perform any kind of movements imaginable.</p>
<h2 id="2-every-component-is-a-buffereditor"><a class="header" href="#2-every-component-is-a-buffereditor">2. Every component is a buffer/editor</a></h2>
<p>This is also a core philosophy of Emacs and Vim, however in the recent modal editors such as Kakoune, Neovim, and Helix, they took another approach (the standard GUI approach) where every component is different.</p>
<p>Although having different components greatly improves the aesthetic, it's not without disadvantages:</p>
<ol>
<li>Users are forced to learn new keymaps for new components. <sup class="footnote-reference"><a href="#2">2</a></sup></li>
<li>Some components are weaker than others.</li>
<li>Reinventing the wheel everywhere. <sup class="footnote-reference"><a href="#3">3</a></sup></li>
</ol>
<p>Unlike Emacs and Vim, Ki took this approach to the extreme, literally everything is an editor, including prompt and completion dropdown.</p>
<h2 id="3-minimal-configurations"><a class="header" href="#3-minimal-configurations">3. Minimal configurations</a></h2>
<p>Part of the reason why Ki was created is due to the configuration nightmare that I have been through when using Neovim for the past 4 years.</p>
<p>Thus, I'm in favor of minimal configurations, users should not spend eons configuring something simple (which makes Helix attractive).</p>
<p>That being said, the following components should be configurable:</p>
<ol>
<li>Theme</li>
<li>Language-specific configurations:
<ul>
<li>Formatter</li>
<li>Tree-sitter grammar</li>
<li>LSP</li>
</ul>
</li>
<li>Keybindings</li>
</ol>
<h2 id="4-vim-keybindings-compatible"><a class="header" href="#4-vim-keybindings-compatible">4. Vim keybindings-compatible</a></h2>
<p>This is because I do not want to alienate existing modal editor users, where most of their keybindings are also based on Vim.</p>
<p>A significant portions of Ki's keybindings are based on Vim's keybindings, but repurposed.</p>
<p>For example, hjkl is also part of Ki, however, their meaning has been generalized to not only work for lines and columns, as mentioned above.</p>
<h2 id="5-keybindings-synergy"><a class="header" href="#5-keybindings-synergy">5. Keybindings synergy</a></h2>
<p>Most keybindings in Ki synergize with one another, though a minority of them are lone rangers.</p>
<p>But lone rangers are not encouraged, they are only added if they are truly crucial.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Vim, Neovim, Kakoune and Helix.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>For example, in Vim, <code>p</code> means paste, but to paste in prompt use <code>ctrl+r</code> instead.</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>For example, in the <a href="https://github.com/helix-editor/helix/pull/5768">Helix's File Explorer PR</a>, every movement, including scrolling was reimplemented, although they were implemented in the Editor component.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modes"><a class="header" href="#modes">Modes</a></h1>
<p>In Ki, there are two major modes:</p>
<ol>
<li>Insert mode</li>
<li>Normal mode (default)</li>
</ol>
<h2 id="insert-mode"><a class="header" href="#insert-mode">Insert Mode</a></h2>
<p>In this mode, the editor behaves like the common editor, where pressing
alphabets on the keyboards inserts those alphabets into the file.</p>
<h2 id="normal-mode"><a class="header" href="#normal-mode">Normal Mode</a></h2>
<p>In Normal mode, the keys on the keyboards are assigned special meanings.</p>
<h2 id="to-get-started"><a class="header" href="#to-get-started">To get started</a></h2>
<p>To enter Insert mode, press <code>i</code> or <code>a</code>.</p>
<p>To enter Normal mode, press <code>esc</code>.</p>
<h2 id="tips"><a class="header" href="#tips">Tips</a></h2>
<ol>
<li>Repurpose the Caplock key on your keyboard to be <code>esc</code>.</li>
<li>Most of the magic happens in Normal mode, so try not to go to Insert mode unless necessary.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="insert-mode-1"><a class="header" href="#insert-mode-1">Insert Mode</a></h1>
<p>In this mode, Ki functions like the usual editor, where pressing keys on
the keyboard types them into the current opened file.</p>
<h2 id="completion-dropdown-keybindings"><a class="header" href="#completion-dropdown-keybindings">Completion dropdown keybindings</a></h2>
<p>The following keybindings only work when the completion dropdown is opened.</p>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Meaning</th></tr></thead><tbody>
<tr><td><code>ctrl+n</code></td><td>Next item</td></tr>
<tr><td><code>ctrl+p</code></td><td>Previous item</td></tr>
<tr><td><code>ctrl+space</code><sup class="footnote-reference"><a href="#1">1</a></sup></td><td>Use current item</td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Why not <code>enter</code> or <code>tab</code>? Because often times, you actually wanted to insert a newline or a tab, so you press <code>esc</code> to close the dropdown menu, but by doing so you've also escaped the Insert mode, and that is infuriating.</p>
</div>
<h2 id="gnu-readline-keybindings"><a class="header" href="#gnu-readline-keybindings">GNU Readline Keybindings</a></h2>
<p>Although <a href="insert-mode/../normal-mode/index.html">Normal Mode</a> is the main sauce of Ki, it also
implements a subset of <a href="https://www.gnu.org/software/bash/manual/html_node/Bindable-Readline-Commands.html">GNU Readline Keybindings</a>.</p>
<p>I highly recommend every terminal user to learn these keybindings, as they work
in almost every terminal UI (TUI) application, for example:</p>
<ul>
<li>macOS native textbox</li>
<li>fish</li>
<li>bash</li>
<li>zsh</li>
<li>pgcli</li>
<li>emacs</li>
<li>mongosh</li>
</ul>
<p>Implemented keybindings <sup class="footnote-reference"><a href="#1">1</a></sup>:</p>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Meaning</th></tr></thead><tbody>
<tr><td><code>ctrl+b</code></td><td>Move back a character</td></tr>
<tr><td><code>ctrl+f</code></td><td>Move forward a character</td></tr>
<tr><td><code>ctrl+a</code></td><td>Move to line start</td></tr>
<tr><td><code>ctrl+e</code></td><td>Move to line end</td></tr>
<tr><td><code>ctrl+k</code></td><td>Kill line forward</td></tr>
<tr><td><code>ctrl+u</code></td><td>Kill line backward</td></tr>
<tr><td><code>ctrl+w</code></td><td>Delete word (long) backward</td></tr>
<tr><td><code>alt+backspace</code></td><td>Delete word (short) backward</td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Not every unimplemented keybinding is incompatible/meaningless with/in Ki, but because I do not have time for them, so feel free to submit PR!</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="normal-mode-1"><a class="header" href="#normal-mode-1">Normal Mode</a></h1>
<p>In Normal Mode, the keys on the keyboard no longer type, most of them are assigned special meanings.</p>
<p>Most of the magic happens in this mode.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="core-movements"><a class="header" href="#core-movements">Core Movements</a></h1>
<p>Core Movements is one of the main concepts in Ki, because it is standardized for
every <a href="normal-mode/./selection-modes/index.html">selection modes</a>.</p>
<p>There are 9 movements in total:</p>
<ol>
<li><a href="normal-mode/core-movements.html#previousnext">Previous/Next</a></li>
<li><a href="normal-mode/core-movements.html#updown">Up/Down</a></li>
<li><a href="normal-mode/core-movements.html#down">Down</a></li>
<li><a href="normal-mode/core-movements.html#firstlast">First/Last</a></li>
<li><a href="normal-mode/core-movements.html#jump">Jump</a></li>
<li><a href="normal-mode/core-movements.html#parent-line">Parent Line</a></li>
<li><a href="normal-mode/core-movements.html#to-index">To Index</a></li>
<li><a href="normal-mode/core-movements.html#current">Current</a></li>
</ol>
<h2 id="previousnext"><a class="header" href="#previousnext">Previous/Next</a></h2>
<p>Keybinding: <code>h</code>/<code>l</code><br />
Memory aid:</p>
<ul>
<li>h stands for higher, which means previous.</li>
<li>l stands for lower, which means next.</li>
</ul>
<h2 id="updown"><a class="header" href="#updown">Up/Down</a></h2>
<p>Keybinding: <code>k</code>/<code>j</code><br />
Memory aid:</p>
<ul>
<li>k means king, which means up.</li>
<li>j means jack, which means down.</li>
</ul>
<p>In most selection modes, up/down moves the selections upwards/downwards, except for the following selection modes:</p>
<div class="table-wrapper"><table><thead><tr><th>Selection Mode</th><th>Up</th><th>Down</th></tr></thead><tbody>
<tr><td>Syntax Node</td><td>Expand selection to parent</td><td>Shrink selection to first child</td></tr>
<tr><td>Quickfix</td><td>Go to first item of previous file</td><td>Go to first item of next file</td></tr>
</tbody></table>
</div>
<h2 id="firstlast"><a class="header" href="#firstlast">First/Last</a></h2>
<p>Keybinding: <code>,</code>/<code>.</code><br />
Memory aid:</p>
<ul>
<li><code>,</code>/<code>.</code> looks like <code>&lt;</code>/<code>&gt;</code> on the keyboard</li>
</ul>
<p>Recommended selection modes:</p>
<ol>
<li>Line</li>
<li>Column</li>
<li>Search</li>
</ol>
<h2 id="jump"><a class="header" href="#jump">Jump</a></h2>
<p>Keybinding: <code>f</code><br />
Reason: This keybinding is used by Vimium.</p>
<p>This is my favorite movement, which is inspired by <a href="https://github.com/easymotion/vim-easymotion">Vim Easymotion</a> and friends <sup class="footnote-reference"><a href="#1">1</a></sup>.</p>
<p>It allows you to jump to your desired position (as long as it is within the screen), with just 4 keypresses most of the time.</p>
<p>It works like this:</p>
<ol>
<li>Choose your selection mode</li>
<li>Press <code>f</code></li>
<li>Press the first letter of the selection that you want to jump to.</li>
<li>Press the letter that appears on top of the selection.</li>
<li>Done.</li>
</ol>
<p>Recommended selection modes:</p>
<ol>
<li>Syntax Node</li>
<li>Word</li>
<li>Token</li>
</ol>
<p>This movement can also work with the Exchange mode to swap two syntax expressions that are far apart.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>hop.nvim, leap.nvim, lightspeed.nvim etc.</p>
</div>
<h2 id="parent-line"><a class="header" href="#parent-line">Parent line</a></h2>
<p>Keybinding: <code>-</code></p>
<p>It moves the current selection to its nearest parent line.</p>
<p>Parent lines are highlighted lines that represent the parent nodes of the current selection.</p>
<p>This is useful for example when you are within the body of a function and you want to jump to the function name.</p>
<p>This is also practical in the <a href="normal-mode/../components/file-explorer.html">File Explorer</a> because the file explorer is rendered using YAML, so going to Parent Line means going to the parent folder!</p>
<h2 id="to-index"><a class="header" href="#to-index">To Index</a></h2>
<p>Keybinding: <code>0</code><br />
Memory aid:</p>
<ul>
<li><code>0</code> is related to the index.</li>
</ul>
<p>When <code>0</code> is pressed, you will be prompted to key in a numerical index (where 1 represents first), and it will jump the current selection to the nth selection of the current selection mode.</p>
<p>Recommended selection modes:</p>
<ol>
<li>Line (For going to a specific line number)</li>
<li>Column (For going to a specific column number)</li>
</ol>
<h2 id="current"><a class="header" href="#current">Current</a></h2>
<p>This is not really a movement, since it's not "moving" the selections per se.</p>
<p>There's no specific keybinding for Current because it is triggered whenever a
selection mode is chosen.</p>
<p>For example, choosing the Line selection mode causes the current line to be
selected, choosing the Word selection mode causes the current word to be selected.</p>
<p>In cases where there's no matching selection under the cursor, the Current movement chooses the nearest selection based on the following criteria (in order):</p>
<ol>
<li>Same line as cursor (if possible)</li>
<li>Nearest to cursor (in terms of horizontal movements)</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="selection-modes"><a class="header" href="#selection-modes">Selection Modes</a></h1>
<p>Selection modes <sup class="footnote-reference"><a href="#1">1</a></sup> dictates how <a href="normal-mode/selection-modes/../core-movements.html">core movements</a> works.</p>
<p>There are roughly 3 categories of selection modes (not clear-cut):</p>
<ol>
<li><a href="normal-mode/selection-modes/./syntax-node-based.html">Syntax tree-based</a></li>
<li><a href="normal-mode/selection-modes/./regex-based.html">Regex-based</a></li>
<li><a href="normal-mode/selection-modes/./local-global/index.html">Local/Global</a></li>
</ol>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>For Vim users, selection mode means text objects.</p>
</div>
<h2 id="contiguity"><a class="header" href="#contiguity">Contiguity</a></h2>
<p>Besides the categorization above, selection modes are also separated based on their contiguity.</p>
<p>A selection mode is considered contiguous, if there's no meaningful gap between each of the selections.</p>
<p>A gap is meaningful if it's neither whitespaces only nor separators like <code>,</code> or <code>;</code>.</p>
<p>The following selection modes are contiguous (exhaustive):</p>
<ol>
<li>Line</li>
<li>Column</li>
<li>Word</li>
<li>Syntax Node</li>
<li>Token</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="syntax-node-based"><a class="header" href="#syntax-node-based">Syntax Node-based</a></h1>
<p>The following selection modes are based on the syntax node of the file, which are
powered by <a href="https://github.com/tree-sitter">Tree-sitter</a>.</p>
<h2 id="token"><a class="header" href="#token">Token</a></h2>
<p>Keybinding: <code>t</code></p>
<p>Token as in parser terminology, which represents the basic atoms of a syntax node.</p>
<p>It is useful for example, to select the name of the current variable (or identifier to be more general).</p>
<h2 id="syntax-node"><a class="header" href="#syntax-node">Syntax Node</a></h2>
<p>This is one of my favourite selection mode, as it enable structural editing.</p>
<p>There are two Syntax Node selection modes:</p>
<ul>
<li>Coarse: faster movement, lower accuracy</li>
<li>Fine: higher accuracy, slower movement</li>
</ul>
<h2 id="syntax-node-coarse"><a class="header" href="#syntax-node-coarse">Syntax Node (Coarse)</a></h2>
<p>Keybinding: <code>s</code></p>
<div class="table-wrapper"><table><thead><tr><th>Movement</th><th>Meaning</th></tr></thead><tbody>
<tr><td><a href="normal-mode/selection-modes/../core-movements.html#previousnext">Previous/Next</a></td><td>Previous/Next named sibling node</td></tr>
<tr><td>Up</td><td>Parent node</td></tr>
<tr><td>Down</td><td>First named child node</td></tr>
<tr><td>Current</td><td>Largest node</td></tr>
<tr><td>Jump</td><td>Jump to largest node</td></tr>
</tbody></table>
</div>
<h3 id="largest-node"><a class="header" href="#largest-node">Largest Node</a></h3>
<p>Using the following Javascript expression as example:</p>
<pre><code class="language-js">fox.bar();
</code></pre>
<p>There are several syntax nodes that start with <code>f</code><sup class="footnote-reference"><a href="#1">1</a></sup>:</p>
<ul>
<li><code>fox</code> (identifier)</li>
<li><code>fox.bar</code> (member expression)</li>
<li><code>fox.bar()</code> (call expression)</li>
</ul>
<p>Suppose the cursor is below <code>f</code>, pressing <code>s</code> selects <code>fox.bar()</code>, because <code>fox.bar()</code> is the largest node that starts with <code>f</code>.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>You can try it out at <a href="https://astexplorer.net/">https://astexplorer.net/</a>, using the <code>@typescript-eslint/parser</code>.</p>
</div>
<h3 id="named-node"><a class="header" href="#named-node">Named node</a></h3>
<p>When creating a Tree sitter grammar file for a language, the author can choose
to not give names to a certain kind of nodes.</p>
<p>For example, "," are usually unnamed (
anonymous) in most language grammars, thus it will be skipped when using the
Previous/Next movement in Syntax Node (Coarse).</p>
<p>See more at <a href="https://tree-sitter.github.io/tree-sitter/using-parsers#named-vs-anonymous-nodes">https://tree-sitter.github.io/tree-sitter/using-parsers#named-vs-anonymous-nodes</a>.</p>
<h2 id="syntax-node-fine"><a class="header" href="#syntax-node-fine">Syntax Node (Fine)</a></h2>
<p>Keybinding: <code>S</code><br />
Reason: Coarse is more commonly used than Fine, thus Fine is assigned a harder-to-press key.</p>
<div class="table-wrapper"><table><thead><tr><th>Movement</th><th>Meaning</th></tr></thead><tbody>
<tr><td><a href="normal-mode/selection-modes/../core-movements.html#previousnext">Previous/Next</a></td><td>Previous/Next sibling node</td></tr>
<tr><td>Up</td><td>Parent node</td></tr>
<tr><td>Down</td><td>First child</td></tr>
<tr><td>Current</td><td>Smallest node that matches the current selection</td></tr>
<tr><td>Jump</td><td>Jump to smallest node</td></tr>
</tbody></table>
</div>
<p>Syntax Node (Fine) is useful when you start to expand the selection starting from the current token.</p>
<p>Suppose we have the following Javascript expression, and the current selection is <code>hello</code>, and we want to select <code>hello.world()</code>.</p>
<pre><code class="language-js">hello.world().foo().bar().spam().wise();
</code></pre>
<p>If we press <code>s</code>, the whole expression will be selected<sup class="footnote-reference"><a href="#1">1</a></sup>, and we will need to press <code>j</code> several times to shrink the selection down to <code>hello.world()</code>.</p>
<p>However, if we use <code>S</code> instead, the selection will remain as <code>hello</code>, and pressing <code>k</code> multiple times will get us to <code>hello.world()</code>.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>See <a href="normal-mode/selection-modes/syntax-node-based.html#largest-node">Largest Node</a></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="regex-based"><a class="header" href="#regex-based">Regex-based</a></h1>
<h2 id="line-trimmed"><a class="header" href="#line-trimmed">Line (Trimmed)</a></h2>
<p>Keybinding: <code>e</code></p>
<p>In this selection mode <code>h</code>/<code>l</code> behaves exactly like <code>j</code>/<code>k</code>, and trimmed means
that the leading and trailing spaces of each line are not selected.</p>
<p>This is usually used in conjunction with <code>i</code>/<code>a</code> to immediately enter insert mode at the first/last non-whitespace symbol of the current line.</p>
<h2 id="line-full"><a class="header" href="#line-full">Line (Full)</a></h2>
<p>Keybinding: <code>E</code></p>
<p>Same as <a href="normal-mode/selection-modes/regex-based.html#line-trimmed">Line (Trimmed)</a>, however, leading whitespaces are selected, and trailing whitespaces, including newline characters are also selected.</p>
<h2 id="word-short"><a class="header" href="#word-short">Word (Short)</a></h2>
<p>Keybinding: <code>w</code></p>
<p>This selects short words, even if these words are not separated by spaces.</p>
<p>For example, <code>myOatPepperBanana</code> consists of 4 short words, namely: <code>my</code>, <code>Oat</code>, <code>Pepper</code> and <code>Banana</code>.</p>
<p>This is useful for renaming identifiers, especially if we only want to change a single word of the name. <sup class="footnote-reference"><a href="#1">1</a></sup></p>
<p>It is also useful when we want to modify the content of a literal string because the <a href="normal-mode/selection-modes/./syntax-node-based.html#token">Token</a> selection mode skips every word in a literal string.</p>
<h2 id="word-long"><a class="header" href="#word-long">Word (Long)</a></h2>
<p>Keybinding: <code>W</code></p>
<p>Like <a href="normal-mode/selection-modes/regex-based.html#word-short">Word (Short)</a>, but it treats each word as a sequence of alphanumeric characters (including <code>-</code> and <code>_</code>).</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>This is possible because even Prompt is an editor, so the Word (Short) mode also works there. See <a href="normal-mode/selection-modes/../../core-concepts.html#2-every-component-is-a-buffereditor">Core Concepts</a></p>
</div>
<h2 id="column"><a class="header" href="#column">Column</a></h2>
<p>Keybinding: <code>z</code></p>
<p>In this selection mode, the movements behave like the usual editor, where <a href="normal-mode/selection-modes/./../core-movements.html#previousnext">Previous/Next</a> means left/right, and so on.</p>
<p><a href="normal-mode/selection-modes/./../core-movements.html#firstlast">First/Last</a> means the first/last column of the current line.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="localglobal"><a class="header" href="#localglobal">Local/Global</a></h1>
<p>Selection modes that are categorized here are those that are applicable both locally (current file) and globally (across the workspace).</p>
<p>There are 3 categories of Local/Global selection modes:</p>
<ol>
<li><a href="normal-mode/selection-modes/local-global/./text-search.html">Text Search</a></li>
<li><a href="normal-mode/selection-modes/local-global/./lsp-based.html">LSP-based</a></li>
<li><a href="normal-mode/selection-modes/local-global/./misc.html">Misc</a></li>
</ol>
<blockquote>
<p>These selection modes are nested under <code>[</code>/<code>]</code> (Find (Local)) or <code>g</code> (Find (Global)).</p>
</blockquote>
<p>When using Find (Local) mode, <code>[</code> searches backward and <code>]</code> searchs forward if
no matching selection is found under cursor.</p>
<h2 id="shortcut-nn"><a class="header" href="#shortcut-nn">Shortcut (<code>n</code>/<code>N</code>)</a></h2>
<p>All selection modes under this Local/Global category are non-contiguous,
and since they require at least two keypresses, Ki provides a shortcut:</p>
<blockquote>
<p>To set the current selection mode back to the last non-contiguous selection modes,
press <code>n</code> (search forward) or <code>N</code> (search backward).</p>
</blockquote>
<p>For example, after you searched for a term (either locally or globally),
and you've changed to another contiguous selection mode (such as Word),
pressing <code>n</code>/<code>N</code> will set the selection mode back to the term search.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="text-search"><a class="header" href="#text-search">Text Search</a></h1>
<p>This is one of the most useful selection modes.</p>
<p>Keybindings:</p>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Meaning</th></tr></thead><tbody>
<tr><td><code>s</code></td><td>Open search prompt</td></tr>
<tr><td><code>c</code></td><td>Search using current selection</td></tr>
<tr><td><code>p</code></td><td>Search using previous search</td></tr>
<tr><td><code>,</code></td><td>Configure search</td></tr>
</tbody></table>
</div>
<p>By default, the search prompt searches using Literal mode.</p>
<p>Other modes can be toggled/chosen by opening the search configurator.</p>
<h2 id="configurator"><a class="header" href="#configurator">Configurator</a></h2>
<p>The following modes/options are configurable in the configurator.</p>
<h2 id="modes-1"><a class="header" href="#modes-1">Modes</a></h2>
<p>There are 4 search modes, and only one of them can be chosen at any time.</p>
<h3 id="1-literal"><a class="header" href="#1-literal">1. Literal</a></h3>
<p>Keybinding: <code>l</code></p>
<p>The default and the most commonly used search mode. In this mode, every
characters are treated verbatim, a <code>(</code> means a <code>(</code>, it does not mean the start
of a capture group.</p>
<h3 id="2-regex"><a class="header" href="#2-regex">2. Regex</a></h3>
<p>Keybinding: <code>x</code></p>
<p>This is based on Rust-flavored regex.</p>
<h3 id="3-ast-grep"><a class="header" href="#3-ast-grep">3. AST-Grep</a></h3>
<p>Keybinding: <code>a</code></p>
<p>This is based on <a href="https://github.com/ast-grep/ast-grep">AST Grep</a>, useful for structural search and replacement.</p>
<h3 id="4-case-agnostic"><a class="header" href="#4-case-agnostic">4. Case Agnostic</a></h3>
<p>Keybinding: <code>c</code></p>
<p>Case as in <code>camelCase</code> or <code>snake_case</code>, not upper-case or lower-case.</p>
<p>This is one of my favorite search modes, especially when dealing with business code.</p>
<p>In this mode, the search will be expanded to all different cases such as (non-exhaustive):</p>
<ol>
<li><code>kebab-case</code></li>
<li><code>UPPER-KEBAB</code></li>
<li><code>MACRO_CASE</code></li>
<li><code>snake_case</code></li>
<li><code>Title Case</code></li>
<li><code>lower case</code></li>
<li><code>UPPER CASE</code></li>
<li><code>camelCase</code></li>
<li><code>PascalCase</code></li>
</ol>
<p>For example, searching <code>hello world</code> in this mode matches (non-exhaustive):</p>
<ol>
<li><code>helloWorld</code></li>
<li><code>HELLO_WORLD</code></li>
<li><code>HelloWorld</code></li>
</ol>
<p>etc.</p>
<p>This is most powerful when used with <a href="normal-mode/selection-modes/local-global/../../actions/index.html#replace-with-pattern">Replace with Pattern</a>.</p>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<p>Alongside modes, there are multiple options (not mutually exclusive) that can be turned on or off.</p>
<h3 id="1-match-whole-word"><a class="header" href="#1-match-whole-word">1. Match whole word</a></h3>
<p>Keybinding: <code>w</code></p>
<p>When turned on, the search will be restricted to match word boundary (<code>\b</code>). For example, <code>hello</code> will not match itself in <code>helloWorld</code>, it will only match standalone <code>hello</code>s.</p>
<h3 id="2-case-sensitive"><a class="header" href="#2-case-sensitive">2. Case-sensitive</a></h3>
<p>Keybinding: <code>i</code></p>
<p>When turned on, the uppercase or lowercase of each alphabet of the search becomes important. For example, <code>hello</code> will not match <code>Hello</code>.</p>
<h2 id="globbing"><a class="header" href="#globbing">Globbing</a></h2>
<p>This only works in Global text search.<br />
This is useful when you want to include/exclude certain files/directories during
global search/replace.</p>
<p>This feature is powered by the <a href="https://docs.rs/globset/latest/globset/#syntax">globset</a> library, which supports alternation such as:</p>
<ul>
<li><code>*.{js,jsx}</code></li>
</ul>
<p>Keybindings:</p>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Action</th></tr></thead><tbody>
<tr><td><code>I</code></td><td>Set include glob</td></tr>
<tr><td><code>E</code></td><td>Set exclude glob</td></tr>
</tbody></table>
</div>
<h2 id="replace-all"><a class="header" href="#replace-all">Replace All</a></h2>
<p>This is a global action that replaces all matches with the replacement pattern<sup class="footnote-reference"><a href="#1">1</a></sup>.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>See more at <a href="normal-mode/selection-modes/local-global/../../actions/index.html#replace-with-pattern">Replace with Pattern</a></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lsp-based"><a class="header" href="#lsp-based">LSP-based</a></h1>
<p>These are selection modes powered by LSP, so it's not always available.</p>
<h2 id="diagnostics"><a class="header" href="#diagnostics">Diagnostics</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Meaning</th></tr></thead><tbody>
<tr><td><code>a</code></td><td>Any kind of diagnostic</td></tr>
<tr><td><code>e</code></td><td>Diagnostic Error only</td></tr>
<tr><td><code>h</code></td><td>Diagnostic Hint only</td></tr>
<tr><td><code>i</code></td><td>Diagnostic Info only</td></tr>
<tr><td><code>w</code></td><td>Diagnostic Warning only</td></tr>
</tbody></table>
</div>
<h2 id="goto"><a class="header" href="#goto">Goto</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Meaning</th></tr></thead><tbody>
<tr><td><code>d</code></td><td>Definitions</td></tr>
<tr><td><code>D</code></td><td>Declarations</td></tr>
<tr><td><code>i</code></td><td>Implementations</td></tr>
<tr><td><code>r</code></td><td>References</td></tr>
<tr><td><code>R</code></td><td>References (include declaration)</td></tr>
<tr><td><code>t</code></td><td>Type definitions</td></tr>
</tbody></table>
</div>
<p>In most cases, the Goto selection modes do not make sense in the Local (
current file) context, however <code>r</code> and <code>R</code> are exceptional, because finding
local references are very useful, especially when used in conjunction with Multi-cursor.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="misc"><a class="header" href="#misc">Misc</a></h1>
<p>These are selections mode that are neither based on <a href="normal-mode/selection-modes/local-global/./text-search.html">Text Search</a> nor <a href="normal-mode/selection-modes/local-global/./lsp-based.html">LSP</a>.</p>
<h2 id="git-hunk"><a class="header" href="#git-hunk">Git Hunk</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>g</code>: Get git hunks against current branch</li>
<li><code>G</code>: Get git hunks against main branch</li>
</ul>
<p>Git hunks are the diffs of the current Git repository.</p>
<p>It is computed by comparing the current file contents with the content on the latest commit of the current/main branch.</p>
<p>This is useful when you want to navigate to your recent changes, but forgot where they are.</p>
<h2 id="marks"><a class="header" href="#marks">Marks</a></h2>
<p>Keybinding: <code>m</code></p>
<p>Marks or bookmarks is a powerful feature that allows you to jump to files that contain marks (which can be toggled).</p>
<p>It also allows you to exchange two sections of the same file.</p>
<h2 id="quickfix"><a class="header" href="#quickfix">Quickfix</a></h2>
<p>Keybinding: <code>q</code></p>
<p>When getting selections using the Global mode, the matches will be stored into
the Quickfix List.</p>
<p>The quickfix selection mode behaves slightly differently in the Global/Local context:</p>
<div class="table-wrapper"><table><thead><tr><th>Context</th><th>Meaning</th></tr></thead><tbody>
<tr><td>Global</td><td>Navigate using the current quickfix list</td></tr>
<tr><td>Local</td><td>Use matches of the current quickfix list that is of the current file</td></tr>
</tbody></table>
</div>
<h3 id="when-is-global-quickfix-useful"><a class="header" href="#when-is-global-quickfix-useful">When is global quickfix useful?</a></h3>
<p>When you entered another selection mode but wish to use back the quickfix list.</p>
<h3 id="when-is-local-quickfix-useful"><a class="header" href="#when-is-local-quickfix-useful">When is local quickfix useful?</a></h3>
<p>When you wanted to use Multi-cursor with the quickfix matches of the current file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="actions"><a class="header" href="#actions">Actions</a></h1>
<h2 id="notes-for-reading"><a class="header" href="#notes-for-reading">Notes for reading</a></h2>
<ol>
<li>When "selection" is mentioned, you should read it as "selection(s)", because
these actions work with multiple cursors.</li>
</ol>
<h2 id="enter-insert-mode"><a class="header" href="#enter-insert-mode">Enter <a href="normal-mode/actions/../../insert-mode/index.html">insert mode</a></a></h2>
<p>Keybindings:</p>
<ul>
<li><code>i</code>: Enter insert mode before selection</li>
<li><code>a</code>: Enter insert mode after selection</li>
</ul>
<h2 id="open"><a class="header" href="#open">Open</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>o</code>: Open after selection</li>
<li><code>O</code>: Open before selection</li>
</ul>
<p>If the current selection mode is <strong>not</strong> <a href="normal-mode/actions/../selection-modes/index.html#contiguity">contiguous</a>,
then <code>o</code>/<code>O</code> inserts one space after/before the current
selection.</p>
<p>Otherwise, it inserts a gap before/after the current selection, and enter Insert mode.</p>
<p>For example, consider the following Javascript code:</p>
<pre><code class="language-js">hello(x, y);
</code></pre>
<p>Assuming the current selection mode is <a href="normal-mode/actions/../selection-modes/syntax-node-based.html#syntax-node-coarse">Syntax Node (Coarse)</a>, and the current selection is <code>y</code>, pressing <code>o</code> results in the following (Note that <code>│</code> represents the cursor):</p>
<pre><code class="language-js">hello(x, y, │);
</code></pre>
<h2 id="delete"><a class="header" href="#delete">Delete</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>d</code>: Delete until next selection</li>
<li><code>D</code>: Delete until previous selection</li>
</ul>
<p>This deletes the current selection(s), however, if the current selection mode is
<a href="normal-mode/actions/../selection-modes/index.html#contiguity">contiguous</a>, it will delete until the
next/previous selection, and selects the next/previous selection.</p>
<p>But, if the current selection is the last/first selection, it will delete until the
previous/next selection instead, and selects the previous/next selection.</p>
<p>For example, consider the following Javascript code:</p>
<pre><code class="language-js">hello(x, y);
</code></pre>
<p>Assuming the current selection mode is <a href="normal-mode/actions/../selection-modes/syntax-node-based.html#syntax-node-coarse">Syntax Node (Coarse)</a>, and the current selection is <code>x</code>, pressing <code>d</code> results in the following:</p>
<pre><code class="language-js">hello(y);
</code></pre>
<h2 id="change"><a class="header" href="#change">Change</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>c</code>: Change</li>
</ul>
<p>This deletes the current selected text, and enter <a href="normal-mode/actions/../../modes.html#insert">Insert mode
</a>.</p>
<h2 id="replace-with-previousnext-copied-text"><a class="header" href="#replace-with-previousnext-copied-text">Replace with previous/next copied text</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>ctrl+n</code>: Replace current selection with next copied text in the clipboard history</li>
<li><code>ctrl+p</code>: Replace current selection with previous copied text in the clipboard history</li>
</ul>
<p>This is similar to <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Earlier-Kills.html">Yanking Earlier Kills</a> in Emacs.</p>
<p>This is useful when you want to retrieve earlier copies.</p>
<h2 id="replace-with-pattern"><a class="header" href="#replace-with-pattern">Replace with pattern</a></h2>
<p>Keybinding: <code>ctrl+r</code></p>
<p>This replaces the current selection using the search pattern and replacement
pattern specified in the <a href="normal-mode/actions/../selection-modes/local-global/text-search.html#configurator">Text Search Configurator</a>.</p>
<p>For example:</p>
<div class="table-wrapper"><table><thead><tr><th>Mode</th><th>Selected text</th><th>Search</th><th>Replacement</th><th>Result</th></tr></thead><tbody>
<tr><td>Literal</td><td><code>f</code></td><td><code>f</code></td><td><code>g</code></td><td><code>g(x)</code></td></tr>
<tr><td>Regex</td><td><code>"yo"</code></td><td><code>"(.*)"</code></td><td><code>[$1]</code></td><td><code>[yo]</code></td></tr>
<tr><td>AST Grep</td><td><code>f(x)</code></td><td><code>f($Z)</code></td><td><code>$Z(f)</code></td><td><code>x(f)</code></td></tr>
<tr><td>Case Agnostic</td><td><code>a_bu</code></td><td><code>a bu</code></td><td><code>to li</code></td><td><code>to_li</code></td></tr>
</tbody></table>
</div>
<h2 id="raise"><a class="header" href="#raise">Raise</a></h2>
<p>Keybinding: <code>^</code></p>
<p>This is one of my favorite actions, it only works for <a href="normal-mode/actions/../selection-modes/syntax-node-based.html#syntax-node">syntax node</a> selection modes.</p>
<p>This replaces the parent node of the current node, with the current node.</p>
<p>For example, with the following Rust code:</p>
<pre><code class="language-rs">fn main() {
  if x &gt; 0 {
    println!("hello")
  }
  else {
    panic!();
  }
}

</code></pre>
<p>Assuming the current selection is <code>println!("hello")</code> and the current selection
mode is <a href="normal-mode/actions/../selection-modes/syntax-node-based.html#syntax-node-coarse">Syntax Node (Coarse)</a>, pressing <code>^</code> results in the following:</p>
<pre><code class="language-rs">fn main() {
  println!("hello")
}
</code></pre>
<p>Notes:</p>
<ul>
<li>Raise works not only for if-else expressions, it works for any syntax node</li>
<li>Raise should never cause syntax error (if it does that's a bug)</li>
<li>Raise preserve the node type of the current node</li>
</ul>
<h2 id="between"><a class="header" href="#between">Between</a></h2>
<p>Keybinding: <code>b</code></p>
<p>This is a group of actions that is related to "surround" or "enclosures".</p>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Action</th></tr></thead><tbody>
<tr><td><code>a&lt;x&gt;</code></td><td>Select around <code>&lt;x&gt;</code></td></tr>
<tr><td><code>i&lt;x&gt;</code></td><td>Select inside <code>&lt;x&gt;</code></td></tr>
<tr><td><code>d&lt;x&gt;</code></td><td>Delete surrounding <code>&lt;x&gt;</code></td></tr>
<tr><td><code>c&lt;x&gt;&lt;y&gt;</code></td><td>Change surrounding <code>&lt;x&gt;</code> to <code>&lt;y&gt;</code></td></tr>
<tr><td><code>&lt;x&gt;</code></td><td>Surround current selection with <code>&lt;x&gt;</code></td></tr>
</tbody></table>
</div>
<p><code>&lt;x&gt;</code> can be one of the following:</p>
<ul>
<li><code>(</code> Parenthesis</li>
<li><code>{</code> Curly Brace</li>
<li><code>[</code> Square Bracket</li>
<li><code>&lt;</code> Angular Bracket</li>
<li><code>'</code> Single Quote</li>
<li><code>"</code> Double Quote</li>
<li><code>`</code> Backtick</li>
</ul>
<h2 id="transform"><a class="header" href="#transform">Transform</a></h2>
<p>Keybinding: <code>!</code></p>
<p>Transformative actions are nested under here, such as (non-exhaustive):</p>
<ul>
<li><code>j</code>: Join (Joins current selection into a single line)</li>
<li><code>w</code>: Wrap (Wrap current selection into multiple lines)</li>
<li><code>l</code>: Convert to <code>lower case</code></li>
<li><code>s</code>: Convert to <code>snake_case</code></li>
</ul>
<h2 id="save"><a class="header" href="#save">Save</a></h2>
<p>Keybinding: <code>enter</code><br />
Reason: The <code>esc enter</code> combo is sweet.</p>
<p>Upon saving, formatting will be applied if possible.</p>
<p>After formatting, the <a href="normal-mode/actions/../core-movements.html#current">Current</a> movement will be executed, to reduce disorientation caused by the misplaced selection due to content changes.</p>
<h2 id="visual"><a class="header" href="#visual">Visual</a></h2>
<p>Keybinding: <code>v</code></p>
<p>This should also be known as "enable selection extension", it got its name from Vim's Visual mode.</p>
<p>This is used for grouping multiple selections into a single selection.</p>
<p>For example, selecting multiple words or multiple lines.</p>
<p>It behaves more or less the same as click-and-drag in the textbox or text area of common GUI applications, but imagine being able to tune <strong>both</strong> ends, unlike using a mouse where an incorrect selection means you have to start over again.</p>
<p>When selection extension is enabled:</p>
<ol>
<li>Each selection is composed of two ranges (originally one range).</li>
<li>There's only one moveable range at a time.</li>
<li>Press <code>v</code> again to change the moveable range to the other range.</li>
<li>Every character between the two ranges, including the two ranges, is selected</li>
<li>Selection-wise actions work on the extended range</li>
<li>Press <code>ESC</code> to disable selection extension</li>
</ol>
<h2 id="undoredo"><a class="header" href="#undoredo">Undo/Redo</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>u</code>: Undo</li>
<li><code>U</code>: Redo</li>
</ul>
<p>Notes:</p>
<ol>
<li>Undo/redo works for multi-cursors as well</li>
<li>The current implementation is naive, it undoes/redoes character-by-character, instead of chunk-by-chunk, so it can be mildly frustrating</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clipboard-related-actions"><a class="header" href="#clipboard-related-actions">Clipboard-related Actions</a></h1>
<p>The following actions are grouped separately on this page because they interact with the clipboard.</p>
<p>There are two kinds of clipboards:</p>
<ol>
<li>The editor clipboard</li>
<li>The system clipboard</li>
</ol>
<p>By default, the editor clipboard is used, to use the system clipboard, press
<code>\</code> before pressing the keybindings of the following actions.</p>
<p>The editor clipboard works for multiple cursors, the text of each cursor can be
copied to and pasted from the editor clipboard respectively.</p>
<p>The system clipboard however does not support multiple cursors.
When there are multiple cursors:</p>
<ul>
<li>Copy joins every selection into a single string and then place it in the system clipboard</li>
<li>Paste uses the same string from the system clipboard for every cursor</li>
</ul>
<p>Note: when new content are copied to the system clipboard, it will also be
copied to the editor clipboard.</p>
<h2 id="copy"><a class="header" href="#copy">Copy</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>y</code>: Copy to editor clipboard</li>
</ul>
<p>Memory aid: y stands for yank, yank to the clipboard.</p>
<p>This action copies the current selected text.</p>
<p>Copy behaves differently depending on the number of cursors.</p>
<p>When there is more than one cursor, the selected texts of each cursor will be
copied to the cursor-specific clipboard.</p>
<h2 id="paste"><a class="header" href="#paste">Paste</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>p</code>: Paste after selection</li>
<li><code>P</code>: Paste before selection</li>
</ul>
<p>This action pastes the content from the clipboard (either the system clipboard or
cursor-specific clipboard) after/before the current selection.</p>
<p>Notes:</p>
<ul>
<li>It does not replace the current selection.</li>
<li>The pasted text will be selected.</li>
</ul>
<h3 id="smart-paste"><a class="header" href="#smart-paste">Smart Paste</a></h3>
<p>Smart Paste will be executed when the selection mode is <a href="normal-mode/actions/../selection-modes/index.html#contiguity">contiguous</a>.</p>
<p>Smart Paste works by analyzing the gap between the current selection and the
previous/next selection, then insert the gap before/after the pasted text.</p>
<p>For example, consider the following Javascript code:</p>
<pre><code class="language-js">hello(x, y);
</code></pre>
<p>Assuming the current selection mode is <a href="normal-mode/actions/../selection-modes/syntax-node-based.html#syntax-node-coarse">Syntax Node (Coarse)</a>, and the current selection is <code>y</code>, and the
copied text is <code>z</code>, performing a <code>p</code> results in the following:</p>
<pre><code class="language-js">hello(x, y, z);
</code></pre>
<h2 id="change-cut"><a class="header" href="#change-cut">Change Cut</a></h2>
<p>Keybindings: <code>C</code></p>
<p>This is similar to <a href="normal-mode/actions/./index.html#change">Change</a>, but it copies the deleted text into the system clipboard.<br />
Like <code>ctrl+x</code> in Windows and <code>cmd+x</code> in macOS.</p>
<h2 id="replace"><a class="header" href="#replace">Replace</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>r</code>: Replace</li>
<li><code>R</code>: Replace (Cut), copies the replaced content into the clipboard</li>
</ul>
<p>This replaces the current selected text with the copied text.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="movement-action-submodes"><a class="header" href="#movement-action-submodes">Movement-action Submodes</a></h1>
<p>Movement-actions are actions that have to be used with <a href="normal-mode/./core-movements.html">Core Movements</a> and <a href="normal-mode/./selection-modes/index.html">Selection Modes</a>.</p>
<p>Movement-actions should be considered as the submodes of the Normal mode.</p>
<p>To return back to normal mode from one of these movement-action modes, press <code>esc</code>.</p>
<h2 id="1-exchange"><a class="header" href="#1-exchange">1. Exchange</a></h2>
<p>Keybinding: <code>x</code><br />
Memory aid: e<strong>x</strong>change</p>
<p>In the Exchange submode, every core movement means:</p>
<blockquote>
<p>exchange with &lt;movement&gt;.</p>
</blockquote>
<p>For example, using the following Javascript code:</p>
<pre><code class="language-js">f(x, 1 + 1);
</code></pre>
<p>Suppose:</p>
<ul>
<li>The current selection mode is <a href="normal-mode/./selection-modes/syntax-node-based.html#syntax-node-coarse">Syntax Node (Coarse)</a></li>
<li>The current selection is <code>x</code></li>
<li>The current submode is Exchange</li>
</ul>
<p>... then executing <a href="normal-mode/./core-movements.html#nextprevious">Next</a> swaps the first argument of <code>f</code> with its second argument:</p>
<pre><code class="language-js">f(1 + 1, x);
</code></pre>
<h3 id="tips-1"><a class="header" href="#tips-1">Tips</a></h3>
<p>Since exchange works with every core movement, it can be used with <a href="normal-mode/./core-movements.html#jump">Jump</a> and <a href="normal-mode/./selection-modes/syntax-node-based.html#syntax-node-coarse">Syntax Node (Coarse)</a> to swap two distant expressions.</p>
<p>For example, using the following Rust code:</p>
<pre><code class="language-rs">if x &gt; 0 {
  println!("Yes")
}
else {
  x += 1;
  println!("no")
}
</code></pre>
<p>...we can swap the body of the if-else expression by:</p>
<ol>
<li>Set selection mode to <a href="normal-mode/./selection-modes/syntax-node-based.html#syntax-node-coarse">Synax Tree (Coarse)</a> by pressing <code>s</code></li>
<li>Jump to the body of <code>if</code> by pressing <code>f {</code>, then press the letter that appears on top of the first <code>{</code>.</li>
<li>Enter Exchange submode by pressing <code>x</code></li>
<li>Press <code>f {</code>, then press the letter that appears on top of the second <code>{</code></li>
<li>Done</li>
</ol>
<h2 id="2-multi-cursor"><a class="header" href="#2-multi-cursor">2. Multi-cursor</a></h2>
<p>Keybinding: <code>q</code><br />
Reason: <code>q</code> is used to start recording a macro in Vim, but I realized 80% of the time what I need is multi-cursors, not a macro.</p>
<p>In the Multi-cursor submode, every core movement means:</p>
<blockquote>
<p>Add cursor with &lt;movement&gt;</p>
</blockquote>
<p>Use the following text as an example:</p>
<pre><code class="language-txt">hello ki, hello vim, hello helix
</code></pre>
<p>Suppose:</p>
<ul>
<li>The current selection mode is <a href="normal-mode/./selection-modes/local-global/text-search.html#1-literal">Find Literal "hello"</a></li>
<li>The current selection is the first <code>hello</code></li>
<li>The current submode is Multi-cursor</li>
</ul>
<p>... then executing <a href="normal-mode/./core-movements.html#nextprevious">Next</a> adds a new cursor to the second <code>hello</code>.</p>
<h2 id="3-replace"><a class="header" href="#3-replace">3. Replace</a></h2>
<p>Keybinding: <code>;</code> [^2]</p>
<p>In the Replace submode, every core movement means:</p>
<blockquote>
<p>Replace current selection until &lt;movement&gt;</p>
</blockquote>
<p>Unlike <a href="normal-mode/movement-actions.html#1-exchange">Exchange</a> and <a href="normal-mode/movement-actions.html#2-multi-cursor">Multi-cursor</a>, this submode is not essential, it is a kind of shortcut for certain operations.</p>
<p>Suppose you have the following text:</p>
<pre><code class="language-js">"hello     world";
</code></pre>
<p>and wish to turn it to:</p>
<pre><code class="language-js">"hello";
</code></pre>
<p>In this case, you can select <code>world</code>, <a href="normal-mode/./actions/index.html#change">Change</a> it, and press <code>backspace</code> 5 times.</p>
<p>However, that's inefficient, and that can be shortened by:</p>
<ol>
<li>Select <code>hello</code></li>
<li>Set selection mode to <a href="normal-mode/./selection-modes/regex-based.html#word-short">Word (Short)</a></li>
<li><a href="normal-mode/./actions/index.html#copy">Copy</a></li>
<li><a href="normal-mode/./actions/index.html#extend">Enable selection extension</a></li>
<li>Move to <code>world</code> (by pressing <code>l</code>)</li>
<li><a href="normal-mode/./actions/index.html#replace">Replace</a></li>
</ol>
<p>And seeing that Steps 3 to 6 is a common chore, the Replace mode is actually a shortcut for that.</p>
<p>Here's how it works using the Replace mode (starting from step 3):</p>
<ol start="3">
<li>Enter the Replace submode</li>
<li>Press <code>l</code></li>
<li>Press <code>esc</code> to return to Normal mode</li>
</ol>
<p>The rigorous readers might have noticed the similarity of the Replace submode
with the <a href="normal-mode/./actions/index.html#raise">Raise</a> action, that is in fact the case,
under the hood, Raise is but a specialized version of the Replace mode which
only executes the <a href="normal-mode/./core-movements.html#updown">Up</a> movement.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>This is a temporary assignment, will be changed in the future.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="other-movements"><a class="header" href="#other-movements">Other Movements</a></h1>
<p>The movements categorized here are not affected or bounded by <a href="normal-mode/./selection-modes/index.html">Selection Modes</a>.</p>
<h2 id="scrolling"><a class="header" href="#scrolling">Scrolling</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>ctrl+u</code>: scroll half-page up</li>
<li><code>ctrl+d</code>: scroll half-page down</li>
</ul>
<h2 id="swap-cursor-with-anchor"><a class="header" href="#swap-cursor-with-anchor">Swap cursor with anchor</a></h2>
<p>Keybinding: <code>%</code><br />
Memory aid: <code>%</code> looks contains two circles which look like two ends.</p>
<p>In Ki, each selection contains a cursor and an anchor.</p>
<p>By default, the cursor sits on the first character of the selection, and the anchor sits on the last character of the selection.</p>
<p>For example, if the current selection is <code>hello world</code>, then the cursor sits on <code>h</code>, while the anchor sits on <code>d</code>.</p>
<p>The anchor serves as a visual aid, making it easier to recognize when the selection range has been modified.</p>
<p>This is especially necessary when using selection modes such as <a href="normal-mode/./selection-modes/syntax-node-based.html#syntax-node-fine">Syntax Node (Fine)</a>, where occasionally, the start of a selection remains the same while the end of it changes.</p>
<p>Usefulness of <code>%</code>:</p>
<ul>
<li>When your current selection spans more than a visible screen, and you wish to see what's at the end of the current selection.
<ul>
<li>For example, when you selected a very long function</li>
</ul>
</li>
<li>When you wish to start a new selection at the end of the current selection
<ul>
<li>For example, when you select a line and wish to change its last word, you can do: <code>e % w c</code> <sup class="footnote-reference"><a href="#1">1</a></sup></li>
</ul>
</li>
</ul>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Explanation: <code>e</code> selects the current line, <code>%</code> sets the anchor of the last character of the current line, <code>w</code> selects the current word under the cursor, <code>c</code> deletes the word and enters insert mode.</p>
</div>
<h2 id="go-backforward"><a class="header" href="#go-backforward">Go back/forward</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>ctrl+o</code>: Go back</li>
<li><code>ctrl+i</code>/<code>tab</code>: Go forward</li>
</ul>
<p><code>ctrl+o</code> is useful when you messed up the current selection, especially when you are
using <a href="normal-mode/./selection-modes/syntax-node-based.html#syntax-node">Syntax Node</a>, and
expanding the current selection to parent node.</p>
<p>Simply press <code>ctrl+o</code> to restore the selection to the previous state.<br />
Press <code>ctrl+i</code>/<code>tab</code> to restore the selection to the current state.</p>
<h2 id="cycle-primary-selection"><a class="header" href="#cycle-primary-selection">Cycle primary selection</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>(</code>: Cycle primary selection (backward)</li>
<li><code>)</code>: Cycle primary selection (forward)</li>
</ul>
<h2 id="go-to-the-previousnext-opened-file"><a class="header" href="#go-to-the-previousnext-opened-file">Go to the previous/next opened file</a></h2>
<p>Keybindings:</p>
<ul>
<li><code>{</code>: Go to previously opened file</li>
<li><code>}</code>: Go to the next opened file</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="space-menu"><a class="header" href="#space-menu">Space Menu</a></h1>
<p>The space menu is a handy shortcut for (not restricted to):</p>
<ul>
<li>Contextual actions</li>
<li>Searching files/symbols</li>
<li>Multi-cursor management</li>
<li>Opening other components</li>
</ul>
<p>The space menu can be brought up by pressing <code>space</code>.</p>
<h2 id="contextual-actions"><a class="header" href="#contextual-actions">Contextual actions</a></h2>
<p>Contextual actions are actions that are only applicable within a specific context.</p>
<h3 id="lsp-actions-only-applicable-in-the-main-editor"><a class="header" href="#lsp-actions-only-applicable-in-the-main-editor">LSP Actions (only applicable in the main editor):</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Action</th></tr></thead><tbody>
<tr><td><code>c</code></td><td>Request code actions</td></tr>
<tr><td><code>h</code></td><td>Request hover info</td></tr>
<tr><td><code>r</code></td><td>Rename current symbol</td></tr>
</tbody></table>
</div>
<h3 id="file-explorer-actions"><a class="header" href="#file-explorer-actions">File Explorer Actions:</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Action</th></tr></thead><tbody>
<tr><td><code>a</code></td><td>Add a new file/folder under the current path <sup class="footnote-reference"><a href="#1">1</a></sup></td></tr>
<tr><td><code>d</code></td><td>Delete current file/folder</td></tr>
<tr><td><code>m</code></td><td>Move (or rename) the current file/folder <sup class="footnote-reference"><a href="#2">2</a></sup></td></tr>
<tr><td><code>r</code></td><td>Refresh the <a href="normal-mode/../components/file-explorer.html">file explorer</a> <sup class="footnote-reference"><a href="#3">3</a></sup></td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>To add a folder, append <code>/</code> to the file name. Can be nested, and new directories will be created as required.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Works like <code>mkdir -p</code>, it will create new directories when required.</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>This is necessary sometimes because the file system is modified by external factors, and Ki does not watch for file changes.</p>
</div>
<h2 id="pickers"><a class="header" href="#pickers">Pickers</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Object</th></tr></thead><tbody>
<tr><td>b</td><td>Buffers (opened files)</td></tr>
<tr><td>f</td><td>Files (Not git ignored)</td></tr>
<tr><td>g</td><td>Git status (against current branch) <sup class="footnote-reference"><a href="#1">1</a></sup></td></tr>
<tr><td>G</td><td>Git status (against main branch) <sup class="footnote-reference"><a href="#2">2</a></sup></td></tr>
<tr><td>s</td><td>LSP Symbols</td></tr>
<tr><td>t</td><td>Themes</td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>See more at <a href="normal-mode/./selection-modes/local-global/misc.html#git-hunk">Git hunk</a></p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>This is very useful when you want to get the modified/added files commited into the current branch that you are working on.</p>
</div>
<p>Searching is powered by <a href="https://github.com/helix-editor/nucleo">Helix's Nucleo</a>, and some <a href="https://github.com/junegunn/fzf?tab=readme-ov-file#search-syntax">fzf</a>-esque search syntax works here:</p>
<div class="table-wrapper"><table><thead><tr><th>Token</th><th>Description</th></tr></thead><tbody>
<tr><td><code>sbt</code></td><td>Items that match <code>sbt</code>, for example <code>serbian-bear-tinker</code></td></tr>
<tr><td><code>'wild</code></td><td>Items that must include <code>wild</code></td></tr>
<tr><td><code>.mp3$</code></td><td>Items that end with <code>.mp3</code></td></tr>
</tbody></table>
</div>
<p>Search terms can be separated by space, which means AND, and their order is unimportant.</p>
<p>For example, the search query <code>stb 'wild</code> matches <code>wild-serbian-bear-tiger</code> and also <code>stubbornly_wild</code>.</p>
<p>Because <a href="normal-mode/../core-concepts.html#every-component-is-a-buffereditor">every component is a buffer/editor</a>, fuzzy search logic is also used for filtering LSP completions.</p>
<h2 id="multi-cursor"><a class="header" href="#multi-cursor">Multi-cursor</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Action</th></tr></thead><tbody>
<tr><td><code>a</code></td><td>Add cursor to all selections in the current <a href="normal-mode/./selection-modes/index.html">selection mode</a> <sup class="footnote-reference"><a href="#1">1</a></sup></td></tr>
<tr><td><code>o</code></td><td>Keeps <strong>o</strong>nly the primary selections</td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Especially useful when used with <a href="normal-mode/./selection-modes/local-global/text-search.html">Text Search</a> or <a href="normal-mode/./selection-modes/syntax-node-based.html">Syntax Node</a>.</p>
</div>
<h2 id="opening-other-components"><a class="header" href="#opening-other-components">Opening other components</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Keybinding</th><th>Action</th></tr></thead><tbody>
<tr><td><code>e</code></td><td>Reveal current file in file <strong>e</strong>xplorer</td></tr>
<tr><td><code>z</code></td><td>Opens the Undo Tree <sup class="footnote-reference"><a href="#1">1</a></sup></td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>This is an obscure feature, although it is functional, it is hardly useful, because the undo history is too granular (character-by-character), see <a href="normal-mode/../universal-keybindings.html#undoredo">undo/redo</a>.</p>
</div>
<h2 id="picking-themes"><a class="header" href="#picking-themes">Picking themes</a></h2>
<p>See more at <a href="normal-mode/../themes.html">Themes</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commands"><a class="header" href="#commands">Commands</a></h1>
<p>The command prompt can be brought up by pressing <code>:</code>.</p>
<p>Commands (non-exhaustive):</p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td><code>quit-all</code></td><td>Quit the editor.</td></tr>
<tr><td><code>write-all</code></td><td>Save all buffers.</td></tr>
<tr><td><code>write-quit-all</code></td><td>Save all buffers and quit the editor.</td></tr>
</tbody></table>
</div>
<p>Aliases are not supported because you can leverage <a href="normal-mode/./space-menu.html#pickers">fuzzy find</a>. For example, <code>qa</code> matches <code>quit-all</code>, since the first letter of <code>quit</code> is <code>q</code>, and for <code>all</code> it's <code>a</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="universal-keybindings"><a class="header" href="#universal-keybindings">Universal Keybindings</a></h1>
<p>The keybindings presented here work in any <a href="./modes.html">Modes</a>.</p>
<h2 id="switch-view-alignment"><a class="header" href="#switch-view-alignment">Switch view alignment</a></h2>
<p>Keybinding: <code>ctrl+l</code><br />
Memory aid: In bash/fish shell, press <code>ctrl+l</code> clears the screen and brings the cursor to the top.</p>
<p>There are 3 kinds of view alignments (in order):</p>
<ol>
<li>Top</li>
<li>Center</li>
<li>Bottom</li>
</ol>
<p>Pressing <code>ctrl+l</code> continuously cycles through the list above in order, starting from Top.</p>
<h2 id="other-window"><a class="header" href="#other-window">Other Window</a></h2>
<p>Keybinding: <code>ctrl+s</code></p>
<p>This cycles the cursor to the next window on the screen.</p>
<p>This is useful when you want to scroll the content of another window or copy the content out of another window.</p>
<p>Examples of such windows are:</p>
<ol>
<li>Hover Info</li>
<li>Completion Info</li>
</ol>
<h2 id="close-current-window"><a class="header" href="#close-current-window">Close current window</a></h2>
<p>Keybinding: <code>ctrl+c</code><br />
Memory aid: c stands for close</p>
<p>Note: when the current window is closed, all of its children will be unmounted (removed) from the screen as well.</p>
<h2 id="paste-1"><a class="header" href="#paste-1">Paste</a></h2>
<p>Keybinding: <code>ctrl+v</code><br />
Memory aid: same as Windows or macOS</p>
<p>Although there's already a <a href="./normal-mode/actions/index.html#paste">Paste</a> action
in Normal mode, <code>ctrl+v</code> is more efficient sometimes than hopping between
Insert mode and Normal mode for minuscule changes.</p>
<p>For example, assuming the clipboard contains <code>hello</code>, and you wanted the result to be <code>&lt;div&gt;hello&lt;/div&gt;</code>, and the current mode is Insert mode:</p>
<div class="table-wrapper"><table><thead><tr><th>Mode</th><th>Keys sequence</th><th>Keypress count</th></tr></thead><tbody>
<tr><td>Insert</td><td><code>&lt; d i v &gt; ctrl+v &lt; / d i v &gt;</code></td><td>12</td></tr>
<tr><td>Normal</td><td><code>&lt; d i v &gt; esc p a &lt; / d i v &gt;</code></td><td>14</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="components"><a class="header" href="#components">Components</a></h1>
<p>Every components is built on top of the Editor component.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="file-explorer"><a class="header" href="#file-explorer">File Explorer</a></h1>
<p>Ki's file explorer is rendered using YAML, for example:</p>
<pre><code class="language-yaml">- 📂  docs/:
    - 🙈  .gitignore
    - 📁  book/:
    - 📄  book.toml
    - 📂  src/:
        - 📚  SUMMARY.md
        - 📂  components/:
            - 📚  file-explorer.md
            - 📚  index.md
        - 📚  configurations.md
        - 📚  core-concepts.md
        - 📚  features.md
        - 📁  insert-mode/:
        - 📚  installation.md
        - 📚  modes.md
        - 📁  normal-mode/:
        - 📁  selection-modes/:
        - 📚  themes.md
        - 📚  universal-keybindings.md
- 📚  dummy-todo.md
- 📁  event/:
- 📁  grammar/:
- 📄  justfile
</code></pre>
<h2 id="keybindings"><a class="header" href="#keybindings">Keybindings</a></h2>
<p>Only <code>enter</code> is overridden to mean:</p>
<ul>
<li>Expand/collapse folder OR</li>
<li>Open file</li>
</ul>
<p>Other keybindings can be found at <a href="components/../normal-mode/space-menu.html#file-explorer-actions">contextual keybindings</a>.</p>
<h2 id="tips-2"><a class="header" href="#tips-2">Tips</a></h2>
<p>Because the File Explorer is just a YAML file, the following actions are free<sup class="footnote-reference"><a href="#1">1</a></sup>:</p>
<div class="table-wrapper"><table><thead><tr><th>Action</th><th>How?</th></tr></thead><tbody>
<tr><td>Go to parent folder</td><td>Use <a href="components/../normal-mode/core-movements.html#parent-line">Parent Line</a></td></tr>
<tr><td>Go to first/last file in current folder</td><td>Use <a href="components/../normal-mode/core-movements.html#firstlast">First/Last</a> with <a href="components/../normal-mode/selection-modes/syntax-node-based.html#syntax-node">Syntax Node</a></td></tr>
<tr><td>Go to next/previous file/folder at current level, skipping expanded children</td><td>Use <a href="components/../normal-mode/core-movements.html#nextprevious">Previous/Next</a> with <a href="components/../normal-mode/selection-modes/syntax-node-based.html#syntax-node">Syntax Node</a></td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Free as in no extra implementations required</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prompt"><a class="header" href="#prompt">Prompt</a></h1>
<p>The prompt is one of the most commonly used components in Ki, this is because
unlike other editors, it is also the picker!</p>
<h2 id="history"><a class="header" href="#history">History</a></h2>
<p>Every kind of prompt has its own history.</p>
<p>For example, the search prompt stores the history of searches.</p>
<p>Unlike the usual prompts, however, the historical entries of a prompt are shown below the current line,
starting with the most recent entry.</p>
<p>To navigate to historical entries, use <a href="components/../normal-mode/index.html">Normal Mode</a>.</p>
<p><code>enter</code> is overridden to mean select the current item, it works in both Insert Mode and Normal mode.</p>
<h2 id="groups"><a class="header" href="#groups">Groups</a></h2>
<p>The items of a prompt can be grouped, for example, the items of the file picker are grouped by their
parent folder.</p>
<p>The group name of each item is also matched by the search query, in a disjunctive manner, i.e. an item
will be matched if either its group name <strong>or</strong> its own name satisfies the search query.</p>
<h2 id="behaviour"><a class="header" href="#behaviour">Behaviour</a></h2>
<p>The prompt has two behaviours:</p>
<div class="table-wrapper"><table><thead><tr><th>Kind</th><th>Behavior</th><th>Examples</th></tr></thead><tbody>
<tr><td>Picker</td><td>Select current matching item upon <code>enter</code></td><td>symbol picker, file picker</td></tr>
<tr><td>Prompt</td><td>Use current search query upon <code>enter</code></td><td>search prompt, rename prompt</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="recipes"><a class="header" href="#recipes">Recipes</a></h1>
<h2 id="raise-current-expression-in-a-block-rust"><a class="header" href="#raise-current-expression-in-a-block-rust">Raise current expression in a block (Rust)</a></h2>
<p>Say we have the following code:</p>
<pre><code class="language-rs">fn main() -&gt; usize {
  let x = 123;
  Some(x)
}
</code></pre>
<p>If you want to change the code to become:</p>
<pre><code class="language-rs">fn main() -&gt; usize {
  123
}
</code></pre>
<p>... you cannot just <a href="./normal-mode/actions/index.html#raise">Raise</a> <code>123</code>, as that would do nothing since replacing the block with <code>123</code> introduces syntax error.</p>
<p>To make that work, surround <code>123</code> with curly brackets (by pressing <code>b {</code> <sup class="footnote-reference"><a href="#1">1</a></sup>) before raising.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>See <a href="./normal-mode/actions/index.html#between">Between</a></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="themes"><a class="header" href="#themes">Themes</a></h1>
<p>Themes from <a href="https://zed.dev/">Zed Editor</a> can be imported into Ki, examples of imported themes<sup class="footnote-reference"><a href="#1">1</a></sup>:</p>
<ol>
<li>Gruvbox</li>
<li>Ayu</li>
<li>One</li>
</ol>
<h2 id="syntax-highlighting"><a class="header" href="#syntax-highlighting">Syntax highlighting</a></h2>
<p>Syntax highlighting is powered by Tree-sitter, and for that to work it needs:</p>
<ol>
<li>Tree-sitter grammar (for generating the parser)</li>
<li>Highlight queries (for determining code sections to highlight)</li>
</ol>
<p>Tree-sitter grammars is not usually the problem, because there are many open-source tree-sitter grammars out there.</p>
<p>However, the highlight queries are the problem, the grammar author usually provides only barebone highlight queries for their language, and the maintenance of highlight queries is delegated to editor-specific community.</p>
<p>I think this is a tragedy because these highlight queries should not be editor-specific, why should every editor maintain their highlight queries? These wheels should not be reinvented over and over.</p>
<p>Currently, the largest of such communities are Neovim and Helix.</p>
<p>To avoid further fragmentation, Ki currently downloads highlight queries from <a href="https://github.com/nvim-treesitter/nvim-treesitter">nvim-treesitter</a><sup class="footnote-reference"><a href="#2">2</a></sup>, until there's a standardized editor-agnostic highlight queries repository.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>See more at <a href="https://github.com/zed-industries/zed/tree/main/assets/themes">Zed default themes</a></p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Why not from Helix? Because Helix <a href="https://github.com/helix-editor/helix/issues/9436">precedence ordering</a> is not compatible with the <a href="https://github.com/tree-sitter/tree-sitter/tree/master/highlight">tree-sitter-highlight</a> library yet.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>Currently, only the "build from source" method is available.</p>
<h2 id="build-from-source"><a class="header" href="#build-from-source">Build from source</a></h2>
<ol>
<li>Ensure the Rust toolchain is installed using <a href="https://rustup.rs/">rustup.rs</a>.</li>
<li>Use Rust 1.80.0:</li>
</ol>
<pre><code class="language-sh">rustup default 1.80.0
</code></pre>
<ol start="3">
<li>Clone the project:</li>
</ol>
<pre><code class="language-sh">git clone https://github.com/ki-editor/ki-editor.git
</code></pre>
<ol start="4">
<li>Run installation:</li>
</ol>
<pre><code class="language-sh">cd ki-editor
cargo install --locked --path .
</code></pre>
<ol start="5">
<li>The <code>ki</code> binary should be installed.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configurations"><a class="header" href="#configurations">Configurations</a></h1>
<p>At the moment, configuration files are not supported, because I'm in favor of compile-time configuration <sup class="footnote-reference"><a href="#1">1</a></sup>, for the following reasons:</p>
<ol>
<li>Easier to update</li>
<li>Running with incompatible configurations is impossible <sup class="footnote-reference"><a href="#2">2</a></sup></li>
<li>Configuration as code
<ul>
<li>Free type-checking</li>
<li>Free formatting<sup class="footnote-reference"><a href="#3">3</a></sup></li>
<li>Ability to reduce duplications using functions</li>
<li>Easy backup (fork Ki-editor and push your modified config)</li>
</ul>
</li>
</ol>
<p>However, I'm open to suggestions, I might even create a new language for that.</p>
<h2 id="files-for-configurations"><a class="header" href="#files-for-configurations">Files for configurations</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Type</th><th>Path</th></tr></thead><tbody>
<tr><td>Languages</td><td><code>shared/src/languages.rs</code></td></tr>
<tr><td>Theme</td><td>(Not yet as there is only one theme)</td></tr>
</tbody></table>
</div>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>For example, see <a href="https://wiki.archlinux.org/title/dwm#Configuration">dwm</a> and <a href="https://xmonad.org/TUTORIAL.html">Xmonad</a></p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Neovim usually let's you glide through until it commits kamikaze</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>Rant: <a href="https://github.com/toml-lang/toml/issues/532#issuecomment-384313745">TOML does not endorse an official formatter</a></p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
